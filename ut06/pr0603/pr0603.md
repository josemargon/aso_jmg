# PR0603: Manipulación de cadenas

## Ejercicio 1: Limpieza básica (mayúsculas, minúsculas y espacios)

1. Normalizar a mayúsculas

    ```
    PS C:\Users\jose.margon.1> $sys = "Windows Server"
    PS C:\Users\jose.margon.1> $sys.ToUpper()
    WINDOWS SERVER
    ```

2. Normalizar a minúsculas

    ```
    PS C:\Users\jose.margon.1> $user = "ADMINISTRATOR"
    PS C:\Users\jose.margon.1> $user.ToLower()
    administrator
    ```

1.  Limpieza de espacios extremos

    ```
    PS C:\Users\jose.margon.1> $ip = " 192.168.1.10 "
    PS C:\Users\jose.margon.1> $ip.trim()
    192.168.1.10
    ```

1. Eliminación total de espacios

    ```
    PS C:\Users\jose.margon.1> $mac = "00 AA 11 BB 22 CC"
    PS C:\Users\jose.margon.1> $mac.Replace(" ", "")
    00AA11BB22CC
    ```

1. Longitud de la cadena

    ```
    PS C:\Users\jose.margon.1> $pass = "P@ssw0rd123"
    PS C:\Users\jose.margon.1> $pass.Length
    11
    ```

## Ejercicio 2: Reemplazo y sustitución

1. Cambio de separadores de fecha

    ```
    PS C:\Users\jose.margon.1> $fecha = "2023.10.05"
    PS C:\Users\jose.margon.1> $fecha.Replace(".", "-")
    2023-10-05
    ```

1. Actualización de dominio

    ```
    PS C:\Users\jose.margon.1> $web = "www.miempresa.es"
    PS C:\Users\jose.margon.1> $web.Replace(".es", ".com")
    www.miempresa.com
    ```

1. Censura de datos

    ```
    PS C:\Users\jose.margon.1> $tarjeta = "1234-5678-9012-3456"
    PS C:\Users\jose.margon.1> $tarjeta.Substring(0, $tarjeta.Length - 4) + "XXXX"
    1234-5678-9012-XXXX
    ```

1. Cambio de barra de rutas (Linux a Windows)

    ```
    PS C:\Users\jose.margon.1> $rutaLinux = "/home/usuario/docs"
    PS C:\Users\jose.margon.1> $rutaLinux.replace("/", "\")
    \home\usuario\docs
    ```

1. Doble reemplazo (limpiar prefijo y sufijo)

    ```
    PS C:\Users\jose.margon.1> $valor = "(Software)"
    PS C:\Users\jose.margon.1> $valor.replace("(", " ").replace(")", " ").trim()
    Software
    ```

## Ejercicio 3: Extracción por posición

1. Extraer prefijo de país

    ```
    PS C:\Users\jose.margon.1\Desktop> $tlf = "+34-600111222"
    PS C:\Users\jose.margon.1\Desktop> $tlf.Split("-")[0]
    +34
    ```

1. Extraer año fiscal (primeros 4 caracteres)

    ```
    PS C:\Users\jose.margon.1\Desktop> $codigo = "2024-FACTURA-SEP"
    PS C:\Users\jose.margon.1\Desktop> $codigo.Substring(0,4)
    2024
    ```

1. Ignorar el primer carácter

    ```
    PS C:\Users\jose.margon.1\Desktop> $idEmpleado = "E55421"
    PS C:\Users\jose.margon.1\Desktop> $idEmpleado.Substring(1)
    55421
    ```

1. Extraer extensión de archivo (últimos 3)

    ```
    PS C:\Users\jose.margon.1\Desktop> $fichero = "informe.pdf"
    PS C:\Users\jose.margon.1\Desktop> $fichero.Substring($fichero.Length - 3)
    pdf
    ```

1. Relleno de ceros (Padding)

    ```
    PS C:\Users\jose.margon.1\Desktop> $numero = "7"
    PS C:\Users\jose.margon.1\Desktop> $numero.PadLeft(3, '0')
    007
    ```

## Ejercicio 4: Troceado (Split) y arrays

1. Obtener nombre de usuario desde email

    ```
    PS C:\Users\jose.margon.1\Desktop> $email = "pepe.garcia@empresa.com"
    PS C:\Users\jose.margon.1\Desktop> $email.Split("@")[0]
    pepe.garcia
    ```

1. Obtener dominio desde email

    ```
    PS C:\Users\jose.margon.1\Desktop> $email = "pepe.garcia@empresa.com"
    PS C:\Users\jose.margon.1\Desktop> $email.Split("@")[1]
    empresa.com
    ```

1. Obtener nombre de archivo de una ruta larga

    ```
    PS C:\Users\jose.margon.1\Desktop> $path = "C:\Users\Admin\Downloads\instaler.msi"
    PS C:\Users\jose.margon.1\Desktop> $path.Split("\")[4]
    instaler.msi
    ```

1. Obtener letra de unidad

    ```
    PS C:\Users\jose.margon.1\Desktop> $path = "D:\Datos\Backups"
    PS C:\Users\jose.margon.1\Desktop> $path.Substring(0,2)
    D:
    ```

1. Separar CSV manual

    ```
    PS C:\Users\jose.margon.1\Desktop> $linea = "Juan;Marketing;Madrid"
    PS C:\Users\jose.margon.1\Desktop> $linea.Split(";")[1]
    Marketing
    ```

## Ejercicio 5: Aplicaciones prácticas

1. Detección de usuario Admin (Boolean). Devuelve True si empieza por “ADM”, False si no.

    ```
    PS C:\Users\jose.margon.1\Desktop> $u = "ADM_Lopez"
    PS C:\Users\jose.margon.1\Desktop> $u.StartsWith("ADM")
    True
    ```

1. Formato de nombre propio. Convierte la primera letra en mayúscula y el resto en minúscula.

    ```
    PS C:\Users\jose.margon.1\Desktop> $nombre = "JAVIER"
    PS C:\Users\jose.margon.1\Desktop> $nombre.Substring(0,1).ToUpper() + $nombre.Substring(1).ToLower()
    Javier
    ```

1. Limpieza de Distinguished Name (AD). Extrae el nombre común (CN).

    ```
    PS C:\Users\jose.margon.1\Desktop> $dn = "CN=Beatriz,OU=Ventas,DC=dominio,DC=local"
    PS C:\Users\jose.margon.1\Desktop> $dn.Split(",")[0].Replace("CN=","")
    Beatriz
    ```

1. Generador de iniciales

    ```
    PS C:\Users\jose.margon.1\Desktop> $n = "Fernando"
    PS C:\Users\jose.margon.1\Desktop> $a = "Alonso"
    PS C:\Users\jose.margon.1\Desktop> $n.Substring(0,1) + "." + $a.Substring(0,1) + "."
    F.A.
    ```

1. Inversión de fecha. Transforma formato europeo a formato base de datos ISO (YYYYMMDD) sin guiones.

    ```
    PS C:\Users\jose.margon.1\Desktop> $euDate = "31-12-2023"
    PS C:\Users\jose.margon.1\Desktop> $euDate = ($euDate.Split("-")[2] + $euDate.Split("-")[1] + $euDate.Split("-")[0])
    PS C:\Users\jose.margon.1\Desktop> $euDate
    20231231
    ```