# PR0202: Conexion SSH

## Preparación de la máquina y configuración de la red

1- Desde la interfaz de VirtualBox añade un segundo adaptador de red en modo red solo anfitrión.

![VB](..\Imagenes\VBox.png)

2- Indica la dirección IP que asigna VirtualBox a este adaptador de red, así como la dirección IP del adaptador correspondiente en la máquina anfitrión.

En la máquina anfitriona está asignada la ip `192.168.59.55`

En Ubuntu la ip es la `192.168.56.101`

3- Comprueba que hay conectividad entre el anfitrión y la máquina virtual.

Desde la anfitriona:

![ping](..\Imagenes\ping.png)

4- Cambia el hostname de Ubuntu para que se llame {iniciales}_server.

`hostnamectl set-hostname jmg_server`

5- Realiza los cambios necesarios en tu equipo Windows para que te resuelva localmente el nombre del servidor Ubuntu (si tienes dudas, en los recursos tienes una breve explicación de cómo hacerlo).

En nuestra máquina anfitriona vamos a `"C:\Windows\System32\drivers\etc\hosts"`, desde aqui modificamos el archivo hosts añadiendo nuestra ip con nuestro nombre de host.

![hosts](..\Imagenes\hosts.png)

## Creación del usuario y conexión SSH

1- Crea en Ubuntu un usuario que se llamará {iniciales}_ssh, donde iniciales son las de tu nombre y apellidos.

`sudo adduser jmg_ssh`

2- Realiza los pasos necesarios para que este usurio se pueda conectar mediante SSH mediante contraseña.

Desde la máquina anfitriona utilizamos el comando ssh-keygen para crear claves.

![ssh](..\Imagenes\keygen.png)

Localizamos el archivo que se nos acaba de crear

`"C:\Users\Alumno\.ssh\id_ed25519"`

En powershell escribimos este comando para crear una contraseña para nuestro usuario de ubuntu.

`scp C:\Users\Alumno\.ssh\id_ed25519 jmg_ssh@192.168.56.103:/home/jmg_ssh/`

Ahora al podremos entrar por ssh a nuestro usuario.

![ssh](..\Imagenes\ssh.png)

## Conexión transparente a Github

Ahora que ya estás cómodo con la autenticación mediante par de claves pública-privada, intenta configurar tu Github para que te puedas conectar sin necesidad de introducir tu contraseña. Como pista, tienes que acceder a tu perfil -> Settings -> SSH and GPG keys

![github](..\Imagenes\github.png)

Y ahora ya vemos en github nuestra ssh.

![github](..\Imagenes\github2.png)